<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Webkit Dependencies Graph - Blue Nodes</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <canvas id="bg-canvas"></canvas>
    <div style="display: flex; height: 100vh; width: 100vw;">
      <div style="flex:1; display:flex; flex-direction:column; min-width:0;">
        <div id="segmented-control-container"></div>
        <div id="breadcrumb" class="breadcrumb-nav"></div>
        <div id="main" style="flex:1; min-width:0; min-height:0;"></div>
      </div>
      <aside class="sidebar">
        <div class="section">
          <div class="meta-group">
            <h2 style="margin-bottom:8px;">Position</h2>
            <div class="chips">
              <span class="chip">ST</span>
              <span class="chip">RW</span>
              <span class="chip">LW</span>
            </div>
            <div class="chips">
              <span class="chip">CM</span>
              <span class="chip">CDM</span>
              <span class="chip">CAM</span>
            </div>
            <div class="chips">
              <span class="chip">CB</span>
              <span class="chip">RB</span>
              <span class="chip">LB</span>
              <span class="chip">GK</span>
            </div>
          </div>
          <div class="meta-group">
            <h2 style="margin-bottom:8px;">First Overseas Destination</h2>
            <div class="chips" style="flex-wrap:wrap;">
              <span class="chip">Austria</span>
              <span class="chip">Belgium</span>
              <span class="chip">China</span>
              <span class="chip">Croatia</span>
              <span class="chip">Denmark</span>
              <span class="chip">England</span>
              <span class="chip">France</span>
              <span class="chip">Germany</span>
              <span class="chip">Ireland</span>
              <span class="chip">Italy</span>
              <span class="chip">Japan</span>
              <span class="chip">Netherlands</span>
              <span class="chip">Portugal</span>
              <span class="chip">Russia</span>
              <span class="chip">Scotland</span>
              <span class="chip">Serbia</span>
              <span class="chip">Spain</span>
              <span class="chip">Sweden</span>
              <span class="chip">Switzerland</span>
              <span class="chip">Thailand</span>
              <span class="chip">Turkey</span>
              <span class="chip">UAE</span>
              <span class="chip">USA</span>
            </div>
          </div>
          <div class="meta-group">
            <h2 style="margin-bottom:8px;">Tier Mobility</h2>
            <div class="chips" style="flex-wrap:wrap;">
              <span class="chip">AlwaysUpward</span>
              <span class="chip">PeakThenDrop</span>
              <span class="chip">BounceBack</span>
              <span class="chip">YoYoMoves(1-2)</span>
              <span class="chip">YoYoMoves(2-3)</span>
              <span class="chip">YoYoMoves(3-4)</span>
              <span class="chip">FlatCareer(1)</span>
              <span class="chip">FlatCareer(2)</span>
              <span class="chip">FlatCareer(3)</span>
              <span class="chip">FlatCareer(4)</span>
            </div>
          </div>
          <div class="meta-group">
            <h2 style="margin-bottom:8px;">Adaptability Pattern</h2>
            <div class="chips" style="flex-wrap:wrap;">
              <span class="chip">Journeyman</span>
              <span class="chip">LongStayer</span>
              <span class="chip">ShortStopper</span>
              <span class="chip">Returnee</span>
              <span class="chip">FlatCareer</span>
            </div>
          </div>
        </div>
      </aside>

      <!-- Sidebar Hover Area -->
      <div class="sidebar-hover-area"></div>
      
      <!-- Player Detail Sidebar -->
      <aside class="player-detail-sidebar">
        <button class="sidebar-close-btn" onclick="toggleSidebar()">×</button>
        <div class="player-detail-section">
          <h2>Player Data</h2>
          <div class="player-image-container" id="player-image-container">
            <img id="player-image" src="" alt="Player Photo" class="player-image">
          </div>
          <div class="player-info-group">
            <div class="player-info-item">
              <span class="player-info-label">Full Name</span>
              <span class="player-info-value" id="player-full-name">Son Heung-min</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Date of Birth</span>
              <span class="player-info-value" id="player-birth">8 July 1992</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Place of Birth</span>
              <span class="player-info-value" id="player-birthplace">Chuncheon, South Korea</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Height</span>
              <span class="player-info-value" id="player-height">1.84 m</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Position</span>
              <span class="player-info-value" id="player-position">Left Winger</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Current Club</span>
              <span class="player-info-value" id="player-club">Tottenham Hotspur</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">League</span>
              <span class="player-info-value" id="player-league">Premier League</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Nationality</span>
              <span class="player-info-value" id="player-nationality">South Korea</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">First Overseas</span>
              <span class="player-info-value" id="player-first-overseas">2010 (Hamburger SV)</span>
            </div>
          </div>



          <div class="player-info-group">
            <h2>Career Highlights</h2>
            <div class="player-info-item">
              <span class="player-info-label">Performance</span>
              <span class="player-info-value" id="player-performance">N/A</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Total Transfers</span>
              <span class="player-info-value" id="player-total-transfers">N/A</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Leagues Played</span>
              <span class="player-info-value" id="player-leagues-count">N/A</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Player Status</span>
              <span class="player-info-value" id="player-status">N/A</span>
            </div>
          </div>
        </div>
      </aside>
      
      <!-- Common Tag Sidebar -->
      <aside class="player-detail-sidebar hidden" id="common-tag-sidebar">
        <button class="sidebar-close-btn" onclick="toggleCommonTagSidebar()">×</button>
        <div class="player-detail-section">
          <h2>Tag Data</h2>
          <div class="player-info-group">
            <div class="player-info-item">
              <span class="player-info-label">Tag Name</span>
              <span class="player-info-value" id="tag-name">Birth Year: 1996</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Related Players</span>
              <span class="player-info-value" id="tag-player-count">4 players</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Category</span>
              <span class="player-info-value" id="tag-category">Birth Year</span>
            </div>
            <div class="player-info-item">
              <span class="player-info-label">Value</span>
              <span class="player-info-value" id="tag-value">1996</span>
            </div>
          </div>

          <div class="player-info-group">
            <h2>Related Players</h2>
            <div class="related-players-list" id="related-players-list">
              <!-- 동적으로 생성될 선수 목록 -->
            </div>
          </div>


        </div>
      </aside>
    </div>
    <button class="filter-fab" id="filterFab">Filter</button>
    
    <!-- Logo -->
    <div class="logo-container">
      <img src="assets/Logo.png" alt="AA25 ArchiveAtlas" class="logo">
    </div>
    
    <!-- Fragment Shader -->
    <script id="fragShader" type="x-shader/x-fragment">
    precision mediump float;
    uniform float u_time;
    uniform vec2 u_mouse;
    uniform vec2 u_resolution;

    // 2D random
    float random (in vec2 st) {
        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
    }

    // 2D noise
    float noise (in vec2 st) {
        vec2 i = floor(st);
        vec2 f = fract(st);

        float a = random(i);
        float b = random(i + vec2(1.0, 0.0));
        float c = random(i + vec2(0.0, 1.0));
        float d = random(i + vec2(1.0, 1.0));

        vec2 u = f*f*(3.0-2.0*f);

        return mix(a, b, u.x) +
               (c - a)* u.y * (1.0 - u.x) +
               (d - b) * u.x * u.y;
    }

    void main() {
        vec2 st = gl_FragCoord.xy / u_resolution.xy;
        st.y = 1.0 - st.y;

        // 중심을 좌하단 쪽으로 이동 (이미지 참고)
        vec2 center = vec2(0.35, 0.35);
        float dist = distance(st, center);

        // Radial gradient: 블루~화이트~블랙
        vec3 deepBlue = vec3(0.08, 0.13, 0.22);
        vec3 blue = vec3(0.45, 0.65, 1.0);
        vec3 white = vec3(0.85, 0.92, 1.0);

        // 블루~화이트~블랙 비중 조절
        vec3 color = mix(deepBlue, blue, smoothstep(0.0, 0.45, dist));
        color = mix(color, white, smoothstep(0.45, 0.7, dist));
        color = mix(color, vec3(0.0), smoothstep(0.7, 1.0, dist));

        // 노이즈: 더 느리게
        float speed = 0.3 + 0.7 * u_mouse.x;
        float scale = 5.0 + 3.0 * u_mouse.y;
        float n = noise(st * scale + vec2(u_time * speed, u_time * speed * 0.5));
        color += n * 0.17;

        // 전체적으로 어둡게
        color *= 0.90;

        gl_FragColor = vec4(color, 1.0);
    }
    </script>
    
    <!-- JavaScript Files -->
    <script src="data/players.js"></script>
    <script src="js/webgl-background.js"></script>
    <script src="js/main.js"></script>
  </body>
</html> 